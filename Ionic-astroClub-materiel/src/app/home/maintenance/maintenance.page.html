<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Maintenance</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-content>
      <ion-button class="ion-marging-top" expand="block" routerLink="/home/maintenance/nouvelle-reparation"><ion-icon slot="start" name="add-outline"></ion-icon>Ajouter</ion-button>
      <ion-button class="ion-marging-top" expand="block" routerLink="/home/maintenance/dysfonctionnement">Signalement</ion-button>
      <ion-card>
        <ion-card-content *ngIf="ready">
          <ion-list >
              <ion-item *ngFor="let reparation of reparations" detail [routerLink]="['/','home','maintenance',reparation.id]">
                <ion-label>{{reparation.nom}} / {{reparation.materiel?.intitule}} </ion-label>
              </ion-item>
          </ion-list>
        </ion-card-content>
          <div *ngIf="!ready">
             <ion-grid>
              <ion-row>
                <ion-col size-sm="2" offset-sm="5">
                  <h5 >Loading...</h5>
                  <ion-spinner color="primary"></ion-spinner>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
      </ion-card>
    </ion-card-content>
  </ion-card>
</ion-content>
